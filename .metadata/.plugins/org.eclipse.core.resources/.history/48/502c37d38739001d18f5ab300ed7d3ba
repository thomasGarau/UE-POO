package attelier7;

import java.util.concurrent.ThreadLocalRandom;

public class Des {
	
	protected String name;
	protected int nb_face = 6;
	protected static int nbrDes = 0;
	protected static final int nb_face_max = 120;
	protected static final int nb_face_min = 3;
	
	public int getNb_faces() {
		return nb_face;
	}
	
	public String getName() {
		return name;
	}
	
	public void setNb_face(int nb_face, int nb_face_max, int nb_face_min) {
		if(nb_face < nb_face_min){
			this.nb_face = nb_face_min;
		}else if(nb_face >nb_face_max){
			this.nb_face = nb_face_max;
		}else {
			this.nb_face = nb_face;
		}
	}
	
	
	public Des(int nb_face, String name) {
		nbrDes ++;
		this.setNb_face(nb_face, nb_face_max, nb_face_min);
		if(name != null && name != "" ) {
			this.name = name;
		}else {
			this.name = "Des" + nbrDes;
		}
	}
	
	public Des(int nb_face) {
		if(nb_face < nb_face_min){
			this.nb_face = nb_face_min;
		}else if(nb_face >nb_face_max){
			this.nb_face = nb_face_max;
		}else {
			this.nb_face = nb_face;
		}
		nbrDes ++;
		this.name = "De" + nbrDes;
	}
	
	public Des() {
		nbrDes ++;
		this.name = "De" + nbrDes;
	}
	
	public int lancer() {
		return ThreadLocalRandom.current().nextInt(1, this.nb_face +1);
	}
	
	public int lancer(int nb_lancer) {
		int max = 0;
		for(int i=0; i < nb_lancer; i++) {
			int a = ThreadLocalRandom.current().nextInt(1, this.nb_face +1);
			if(a > max){
				max = 0;
			}
		}
	return max;
	}
	
	public boolean equals(Des d1, Des d2) {
		return (d1.name == d2.name && d1.nb_face == d2.nb_face);
	}
	
	public String toString() {
		return "name " + this.name + " nb_faces" + this.nb_face;
	}
	
}
