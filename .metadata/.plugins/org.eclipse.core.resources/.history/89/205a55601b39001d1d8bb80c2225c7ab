package attelier7;

import java.util.concurrent.ThreadLocalRandom;

public class DesMemoire extends Des {
	private int dernierLancer;
	
	public DesMemoire(int nb_faces, String name) {
		super(nb_faces,name);
		if(nb_faces < 3){
			this.nb_faces = 3;
		}else if(nb_faces >120){
			this.nb_faces = 120;
		}else {
			this.nb_faces = nb_faces;
		}
		if(name != null && name != "" ) {
			this.name = name;
		}else {
			this.name = "Des" + nbrDes;
		}
		nbrDes ++;
	}
	
	public int lancer() {
		int a = ThreadLocalRandom.current().nextInt(1, this.nb_faces +1);
		while(a == this.dernierLancer) {
			a = ThreadLocalRandom.current().nextInt(1, this.nb_faces +1); 
		}
		return a;
	}
	
	public int lancer(int nbr_lancer) {
		int a = 0;
		int i = 0;
		int max = 0;
		while(i < nbr_lancer || a == this.dernierLancer) {
			a = ThreadLocalRandom.current().nextInt(1, this.nb_faces +1); 
			if (a > max) {
				max = a;
			}
			i++;
		}
		return a;
	}
}
